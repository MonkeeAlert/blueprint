!function(r){var t={};function o(e){if(t[e])return t[e].exports;var w=t[e]={i:e,l:!1,exports:{}};return r[e].call(w.exports,w,w.exports,o),w.l=!0,w.exports}o.m=r,o.c=t,o.d=function(r,t,e){o.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:e})},o.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,t){if(1&t&&(r=o(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var w in r)o.d(e,w,function(t){return r[t]}.bind(null,w));return e},o.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(t,"a",t),t},o.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},o.p="",o(o.s=2)}([function(r,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return e}));class e{constructor(r,t,o){this.target=r,this.scheme=t,this.scheme.sizes={w:+t.width,h:+t.height},this.points=o,this.current={x:0,y:0,zoom:{scale:null,step:null},acceptOverflow:!1},this.schemeCanvas=null,this.scales=this.setScales(),this.isDragged=!1,this.IS_MOBILE=window.innerWidth<=1024,this.initialize()}get center(){const{offsetWidth:r,offsetHeight:t}=this.target;return{x:r/2,y:t/2}}get zoom(){return this.current.zoom}set zoom(r){const[t,o]=r;return this.current.zoom={scale:t,step:o},this.current.zoom}get overflow(){return this.current.acceptOverflow}set overflow(r){return this.current.acceptOverflow=r,this.current.acceptOverflow}initialize(){this.initializeSchemeLayout()}initializeSchemeLayout(){const{w:r,h:t}=this.scheme.sizes;this.schemeCanvas=this.buildCanvasLayout(this.createCanvas("background"),r,t),this.initializeSchemeDrag(),this.initializeSchemeZoom()}createCanvas(r){const t=document.createElement("canvas");return t.setAttribute("id",`blueprint-${r}`),t.setAttribute("class","blueprint__canvas"),t.setAttribute("data-type",r),t.setAttribute("style","transform: scale(1) translate(0px, 0px)"),this.target.append(t),t}buildCanvasLayout(r,t,o){let e;switch(r.getAttribute("data-type")){case"background":const{offsetWidth:w,offsetHeight:y}=this.target;e=r.getContext("2d"),r.setAttribute("width",w),r.setAttribute("height",y);const x=new Image;x.src=this.scheme.image,x.onload=r=>{e.drawImage(x,0,0,t,o,this.center.x-t*this.scales[0]/2,this.center.y-o*this.scales[0]/2,t*this.scales[0],o*this.scales[0])}}return e}setScales(){const{w:r,h:t}=this.scheme.sizes,{offsetWidth:o,offsetHeight:e}=this.target;let w=o/r,y=e/t,x=Math.min(w,y),s=[...new Array(5)].map((r,t)=>Math.max(x,x*Math.pow(1.5,t))).filter(r=>r<1),i=[...new Array(5)].map((r,t)=>Math.max(x,x*Math.pow(1.5,t))).filter(r=>r>1&&r<=2);return this.zoom=[0===Object.values(s).length?1:s[0],0],[...s,1,...i]}initializeSchemeDrag(){let r,t;const o=o=>{if(o.target!==this.schemeCanvas.canvas)return;this.isDragged=!0;const{left:e,top:w}=this.schemeCanvas.canvas.getBoundingClientRect();this.IS_MOBILE?(r=o.changedTouches[0].clientX-e,t=o.changedTouches[0].clientY-w):(r=o.clientX-e,t=o.clientY-w)},e=o=>{if(o.target===this.schemeCanvas.canvas&&this.isDragged){const{left:e,top:w}=this.schemeCanvas.canvas.getBoundingClientRect();let y,x;this.IS_MOBILE?(y=o.changedTouches[0].clientX-e-r,x=o.changedTouches[0].clientY-w-t):(y=o.clientX-e-r,x=o.clientY-w-t),this.current.x+=y,this.current.y+=x,o.target.style=`transform: scale(${this.zoom.scale}) translate(${this.current.x}px, ${this.current.y}px)`}},w=r=>{this.isDragged&&(this.isDragged=!1);const{canvas:t}=this.schemeCanvas,{width:o,height:e,left:w,top:y}=t.getBoundingClientRect(),{w:x,h:s}=this.scheme.sizes;this.overflow||(w+o>x||w-o<x||y+e>s||y-e<s)&&(this.current.x=0,this.current.y=0,t.style="transform: scale(1), transform: translate(0px, 0px)")};this.target.addEventListener("mousedown",o),this.target.addEventListener("mousemove",e),this.target.addEventListener("mouseup",w),this.target.addEventListener("mouseleave",w),this.target.addEventListener("touchstart",o),this.target.addEventListener("touchmove",e),this.target.addEventListener("touchend",w)}initializeSchemeZoom(){const{length:r}=this.scales,t=t=>{if(t){let{scale:t,step:o}=this.zoom;this.overflow=!0,t+.1<this.scales[r-1]-.1?this.zoom=[t+.1,++o]:this.zoom=[this.scales[r-1],r-1]}},o=r=>{if(r){let{scale:r,step:t}=this.zoom;r-.1>this.scales[0]?this.zoom=[r-.1,--t]:(this.zoom=[this.scales[0],0],this.overflow=!1)}};this.target.addEventListener("wheel",r=>{let e=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));e>0&&t(!0),e<0&&o(!0),this.recalculateCanvas()})}recalculateCanvas(r){const{canvas:t}=this.schemeCanvas,{x:o,y:e}=this.current;t.setAttribute("style",`transform: scale(${this.zoom.scale}) translate(${o}px, ${e}px)`)}}},function(r){r.exports=JSON.parse('{"bg":{"url":"http://127.0.0.1:5500/src/img/test.png","sizes":{"width":1366,"height":768}},"points":[{"x":0,"y":0,"row":0},{"x":30,"y":0,"row":0},{"x":60,"y":0,"row":0},{"x":90,"y":0,"row":0},{"x":120,"y":0,"row":0},{"x":150,"y":0,"row":0},{"x":180,"y":0,"row":0},{"x":210,"y":0,"row":0},{"x":240,"y":0,"row":0},{"x":270,"y":0,"row":0},{"x":300,"y":0,"row":0},{"x":330,"y":0,"row":0},{"x":360,"y":0,"row":0},{"x":390,"y":0,"row":0},{"x":420,"y":0,"row":0},{"x":450,"y":0,"row":0},{"x":480,"y":0,"row":0},{"x":510,"y":0,"row":0},{"x":540,"y":0,"row":0},{"x":570,"y":0,"row":0},{"x":600,"y":0,"row":0},{"x":630,"y":0,"row":0},{"x":660,"y":0,"row":0},{"x":690,"y":0,"row":0},{"x":720,"y":0,"row":0},{"x":0,"y":30,"row":1},{"x":30,"y":30,"row":1},{"x":60,"y":30,"row":1},{"x":90,"y":30,"row":1},{"x":120,"y":30,"row":1},{"x":150,"y":30,"row":1},{"x":180,"y":30,"row":1},{"x":210,"y":30,"row":1},{"x":240,"y":30,"row":1},{"x":270,"y":30,"row":1},{"x":300,"y":30,"row":1},{"x":330,"y":30,"row":1},{"x":360,"y":30,"row":1},{"x":390,"y":30,"row":1},{"x":420,"y":30,"row":1},{"x":450,"y":30,"row":1},{"x":480,"y":30,"row":1},{"x":510,"y":30,"row":1},{"x":540,"y":30,"row":1},{"x":570,"y":30,"row":1},{"x":600,"y":30,"row":1},{"x":630,"y":30,"row":1},{"x":660,"y":30,"row":1},{"x":690,"y":30,"row":1},{"x":720,"y":30,"row":1},{"x":0,"y":60,"row":2},{"x":30,"y":60,"row":2},{"x":60,"y":60,"row":2},{"x":90,"y":60,"row":2},{"x":120,"y":60,"row":2},{"x":150,"y":60,"row":2},{"x":180,"y":60,"row":2},{"x":210,"y":60,"row":2},{"x":240,"y":60,"row":2},{"x":270,"y":60,"row":2},{"x":300,"y":60,"row":2},{"x":330,"y":60,"row":2},{"x":360,"y":60,"row":2},{"x":390,"y":60,"row":2},{"x":420,"y":60,"row":2},{"x":450,"y":60,"row":2},{"x":480,"y":60,"row":2},{"x":510,"y":60,"row":2},{"x":540,"y":60,"row":2},{"x":570,"y":60,"row":2},{"x":600,"y":60,"row":2},{"x":630,"y":60,"row":2},{"x":660,"y":60,"row":2},{"x":690,"y":60,"row":2},{"x":720,"y":60,"row":2},{"x":0,"y":90,"row":3},{"x":30,"y":90,"row":3},{"x":60,"y":90,"row":3},{"x":90,"y":90,"row":3},{"x":120,"y":90,"row":3},{"x":150,"y":90,"row":3},{"x":180,"y":90,"row":3},{"x":210,"y":90,"row":3},{"x":240,"y":90,"row":3},{"x":270,"y":90,"row":3},{"x":300,"y":90,"row":3},{"x":330,"y":90,"row":3},{"x":360,"y":90,"row":3},{"x":390,"y":90,"row":3},{"x":420,"y":90,"row":3},{"x":450,"y":90,"row":3},{"x":480,"y":90,"row":3},{"x":510,"y":90,"row":3},{"x":540,"y":90,"row":3},{"x":570,"y":90,"row":3},{"x":600,"y":90,"row":3},{"x":630,"y":90,"row":3},{"x":660,"y":90,"row":3},{"x":690,"y":90,"row":3},{"x":720,"y":90,"row":3},{"x":0,"y":120,"row":4},{"x":30,"y":120,"row":4},{"x":60,"y":120,"row":4},{"x":90,"y":120,"row":4},{"x":120,"y":120,"row":4},{"x":150,"y":120,"row":4},{"x":180,"y":120,"row":4},{"x":210,"y":120,"row":4},{"x":240,"y":120,"row":4},{"x":270,"y":120,"row":4},{"x":300,"y":120,"row":4},{"x":330,"y":120,"row":4},{"x":360,"y":120,"row":4},{"x":390,"y":120,"row":4},{"x":420,"y":120,"row":4},{"x":450,"y":120,"row":4},{"x":480,"y":120,"row":4},{"x":510,"y":120,"row":4},{"x":540,"y":120,"row":4},{"x":570,"y":120,"row":4},{"x":600,"y":120,"row":4},{"x":630,"y":120,"row":4},{"x":660,"y":120,"row":4},{"x":690,"y":120,"row":4},{"x":720,"y":120,"row":4},{"x":0,"y":150,"row":5},{"x":30,"y":150,"row":5},{"x":60,"y":150,"row":5},{"x":90,"y":150,"row":5},{"x":120,"y":150,"row":5},{"x":150,"y":150,"row":5},{"x":180,"y":150,"row":5},{"x":210,"y":150,"row":5},{"x":240,"y":150,"row":5},{"x":270,"y":150,"row":5},{"x":300,"y":150,"row":5},{"x":330,"y":150,"row":5},{"x":360,"y":150,"row":5},{"x":390,"y":150,"row":5},{"x":420,"y":150,"row":5},{"x":450,"y":150,"row":5},{"x":480,"y":150,"row":5},{"x":510,"y":150,"row":5},{"x":540,"y":150,"row":5},{"x":570,"y":150,"row":5},{"x":600,"y":150,"row":5},{"x":630,"y":150,"row":5},{"x":660,"y":150,"row":5},{"x":690,"y":150,"row":5},{"x":720,"y":150,"row":5},{"x":0,"y":180,"row":6},{"x":30,"y":180,"row":6},{"x":60,"y":180,"row":6},{"x":90,"y":180,"row":6},{"x":120,"y":180,"row":6},{"x":150,"y":180,"row":6},{"x":180,"y":180,"row":6},{"x":210,"y":180,"row":6},{"x":240,"y":180,"row":6},{"x":270,"y":180,"row":6},{"x":300,"y":180,"row":6},{"x":330,"y":180,"row":6},{"x":360,"y":180,"row":6},{"x":390,"y":180,"row":6},{"x":420,"y":180,"row":6},{"x":450,"y":180,"row":6},{"x":480,"y":180,"row":6},{"x":510,"y":180,"row":6},{"x":540,"y":180,"row":6},{"x":570,"y":180,"row":6},{"x":600,"y":180,"row":6},{"x":630,"y":180,"row":6},{"x":660,"y":180,"row":6},{"x":690,"y":180,"row":6},{"x":720,"y":180,"row":6},{"x":0,"y":210,"row":7},{"x":30,"y":210,"row":7},{"x":60,"y":210,"row":7},{"x":90,"y":210,"row":7},{"x":120,"y":210,"row":7},{"x":150,"y":210,"row":7},{"x":180,"y":210,"row":7},{"x":210,"y":210,"row":7},{"x":240,"y":210,"row":7},{"x":270,"y":210,"row":7},{"x":300,"y":210,"row":7},{"x":330,"y":210,"row":7},{"x":360,"y":210,"row":7},{"x":390,"y":210,"row":7},{"x":420,"y":210,"row":7},{"x":450,"y":210,"row":7},{"x":480,"y":210,"row":7},{"x":510,"y":210,"row":7},{"x":540,"y":210,"row":7},{"x":570,"y":210,"row":7},{"x":600,"y":210,"row":7},{"x":630,"y":210,"row":7},{"x":660,"y":210,"row":7},{"x":690,"y":210,"row":7},{"x":720,"y":210,"row":7},{"x":0,"y":240,"row":8},{"x":30,"y":240,"row":8},{"x":60,"y":240,"row":8},{"x":90,"y":240,"row":8},{"x":120,"y":240,"row":8},{"x":150,"y":240,"row":8},{"x":180,"y":240,"row":8},{"x":210,"y":240,"row":8},{"x":240,"y":240,"row":8},{"x":270,"y":240,"row":8},{"x":300,"y":240,"row":8},{"x":330,"y":240,"row":8},{"x":360,"y":240,"row":8},{"x":390,"y":240,"row":8},{"x":420,"y":240,"row":8},{"x":450,"y":240,"row":8},{"x":480,"y":240,"row":8},{"x":510,"y":240,"row":8},{"x":540,"y":240,"row":8},{"x":570,"y":240,"row":8},{"x":600,"y":240,"row":8},{"x":630,"y":240,"row":8},{"x":660,"y":240,"row":8},{"x":690,"y":240,"row":8},{"x":720,"y":240,"row":8},{"x":0,"y":270,"row":9},{"x":30,"y":270,"row":9},{"x":60,"y":270,"row":9},{"x":90,"y":270,"row":9},{"x":120,"y":270,"row":9},{"x":150,"y":270,"row":9},{"x":180,"y":270,"row":9},{"x":210,"y":270,"row":9},{"x":240,"y":270,"row":9},{"x":270,"y":270,"row":9},{"x":300,"y":270,"row":9},{"x":330,"y":270,"row":9},{"x":360,"y":270,"row":9},{"x":390,"y":270,"row":9},{"x":420,"y":270,"row":9},{"x":450,"y":270,"row":9},{"x":480,"y":270,"row":9},{"x":510,"y":270,"row":9},{"x":540,"y":270,"row":9},{"x":570,"y":270,"row":9},{"x":600,"y":270,"row":9},{"x":630,"y":270,"row":9},{"x":660,"y":270,"row":9},{"x":690,"y":270,"row":9},{"x":720,"y":270,"row":9}]}')},function(r,t,o){"use strict";o.r(t);o(3);var e=o(1),w=o(0);window.onload=r=>{const t=e,{bg:o,points:y}=t;new w.default(document.getElementById("test-wrapper"),{image:o.url,width:o.sizes.width,height:o.sizes.height},{points:y,pointRadius:10})}},function(r,t,o){}]);